{
    "version": 1,
    "interactions": [
        {
            "request": {
                "method": "POST",
                "uri": "https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/publishingcredentials/list?api-version=2019-08-01",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Thu, 05 Mar 2020 00:39:40 GMT"
                    ],
                    "content-type": [
                        "application/json"
                    ],
                    "x-ms-ratelimit-remaining-subscription-resource-requests": [
                        "11998"
                    ],
                    "cache-control": [
                        "no-cache"
                    ],
                    "content-length": [
                        "837"
                    ]
                },
                "body": {
                    "data": {
                        "id": "/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/publishingcredentials/$cloud-custodian-test-consumptionc129bfa71a47",
                        "name": "cloud-custodian-test-consumptionc129bfa71a47",
                        "type": "Microsoft.Web/sites/publishingcredentials",
                        "location": "East US",
                        "properties": {
                            "name": null,
                            "publishingUserName": "$cloud-custodian-test-consumptionc129bfa71a47",
                            "publishingPassword": "xEzCj4r1vB2M6aKNci3XZ3SY2K7u2qCjwJmbCH9Dn5STdLxQHGmiwr698bmD",
                            "publishingPasswordHash": null,
                            "publishingPasswordHashSalt": null,
                            "metadata": null,
                            "isDeleted": false,
                            "scmUri": "https://$cloud-custodian-test-consumptionc129bfa71a47:xEzCj4r1vB2M6aKNci3XZ3SY2K7u2qCjwJmbCH9Dn5STdLxQHGmiwr698bmD@cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net"
                        }
                    }
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/api/deployments",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "etag": [
                        "\"ffffffffec3c1c16\""
                    ],
                    "date": [
                        "Thu, 05 Mar 2020 00:39:41 GMT"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ],
                    "set-cookie": [
                        "ARRAffinity=c1e6ac04ae91657b0f087fb544a045028912e1ff79f958af12857df8fef4b45d;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ]
                },
                "body": {
                    "data": []
                }
            }
        },
        {
            "request": {
                "method": "POST",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/api/zipdeploy?isAsync=true&synctriggers=true",
                "body": "mock_body",
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 202,
                    "message": "Accepted"
                },
                "headers": {
                    "date": [
                        "Thu, 05 Mar 2020 00:39:42 GMT"
                    ],
                    "content-length": [
                        "0"
                    ],
                    "location": [
                        "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net:443/api/deployments/latest?deployer=Push-Deployer&time=2020-03-05_00-39-42Z"
                    ],
                    "set-cookie": [
                        "ARRAffinity=c1e6ac04ae91657b0f087fb544a045028912e1ff79f958af12857df8fef4b45d;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ]
                },
                "body": {
                    "string": ""
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/api/isdeploying",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Thu, 05 Mar 2020 00:40:03 GMT"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ],
                    "set-cookie": [
                        "ARRAffinity=c1e6ac04ae91657b0f087fb544a045028912e1ff79f958af12857df8fef4b45d;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ]
                },
                "body": {
                    "data": {
                        "value": "False",
                        "msg": ""
                    }
                }
            }
        },
        {
            "request": {
                "method": "GET",
                "uri": "https://cloud-custodian-test-consumptionc129bfa71a47.scm.azurewebsites.net/deployments",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "etag": [
                        "\"f7283f62116e6816\""
                    ],
                    "date": [
                        "Thu, 05 Mar 2020 00:40:04 GMT"
                    ],
                    "content-type": [
                        "application/json; charset=utf-8"
                    ],
                    "set-cookie": [
                        "ARRAffinity=c1e6ac04ae91657b0f087fb544a045028912e1ff79f958af12857df8fef4b45d;Path=/;HttpOnly;Domain=cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net"
                    ]
                },
                "body": {
                    "data": [
                        {
                            "id": "1417767a45ab4365a28890e31a094d9e",
                            "status": 4,
                            "status_text": "",
                            "author_email": "N/A",
                            "author": "N/A",
                            "deployer": "Push-Deployer",
                            "message": "Created via a push deployment",
                            "progress": "",
                            "received_time": "2020-03-05T00:39:43.0028229Z",
                            "start_time": "2020-03-05T00:39:43.0205816Z",
                            "end_time": "2020-03-05T00:40:04.0351223Z",
                            "last_success_end_time": "2020-03-05T00:40:04.0351223Z",
                            "complete": true,
                            "active": true,
                            "is_temp": false,
                            "is_readonly": true,
                            "url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/1417767a45ab4365a28890e31a094d9e",
                            "log_url": "https://cloud-custodian-test-consumption382f3715d07e.scm.azurewebsites.net/deployments/1417767a45ab4365a28890e31a094d9e/log",
                            "site_name": "cloud-custodian-test-consumption382f3715d07e"
                        }
                    ]
                }
            }
        },
        {
            "request": {
                "method": "POST",
                "uri": "https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/appsettings/list?api-version=2019-08-01",
                "body": null,
                "headers": {}
            },
            "response": {
                "status": {
                    "code": 200,
                    "message": "OK"
                },
                "headers": {
                    "date": [
                        "Thu, 05 Mar 2020 00:40:04 GMT"
                    ],
                    "content-type": [
                        "application/json"
                    ],
                    "x-ms-ratelimit-remaining-subscription-resource-requests": [
                        "11998"
                    ],
                    "cache-control": [
                        "no-cache"
                    ],
                    "content-length": [
                        "544"
                    ]
                },
                "body": {
                    "data": {
                        "id": "/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/cloud-custodian-test-consumptionc129bfa71a47/config/appsettings",
                        "name": "appsettings",
                        "type": "Microsoft.Web/sites/config",
                        "location": "East US",
                        "properties": {
                            "AzureWebJobsStorage": "DefaultEndpointsProtocol=https;AccountName=ccfuncappc129bfa71a47;AccountKey=DEC0DEDITtVwMoyAuTz1LioKkC+gB/EpRlQKNIaszQEhVidjWyP1kLW1z+jo/MGFHKc+t+M20PxoraNCslng9w==",
                            "FUNCTIONS_EXTENSION_VERSION": "~2",
                            "FUNCTIONS_WORKER_RUNTIME": "python"
                        }
                    }
                }
            }
        }
    ]
}